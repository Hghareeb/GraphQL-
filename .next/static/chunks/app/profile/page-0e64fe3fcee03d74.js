(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{52553:function(e,s,t){Promise.resolve().then(t.bind(t,47175))},47175:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return w}});var n=t(56093),l=t(3827),r=t(64090),a=t(47907),i=t(14258),o=t(20309),d=t(77729),c=t(5591),x=t(26587),m=t(57369),h=t(75553),u=t(74994),v=t(10166);function g(){let e=(0,n._)(['\n  query($userId: Int!, $eventId: Int!) {\n    user(where: {id: {_eq: $userId}}) {\n      id\n      login\n      firstName\n      lastName\n      email\n      auditRatio\n      totalUp\n      totalDown\n      campus\n      xp_transactions: transactions(\n        where: { \n          userId: { _eq: $userId },\n          type: { _eq: "xp" },\n          eventId: { _eq: $eventId }\n        },\n        order_by: { createdAt: desc }\n      ) {\n        id\n        amount\n        createdAt\n        path\n        object {\n          id\n          name\n          type\n        }\n      }\n      audits: audits_aggregate(\n        where: {\n          auditorId: {_eq: $userId},\n          grade: {_is_null: false}\n        }\n      ) {\n        nodes {\n          id\n          grade\n          createdAt\n          group {\n            captainLogin\n            object {\n              name\n            }\n          }\n        }\n        aggregate {\n          count\n          avg {\n            grade\n          }\n        }\n      }\n      progresses(\n        where: { \n          userId: { _eq: $userId }, \n          object: { type: { _eq: "project" } }\n        }, \n        order_by: {updatedAt: desc}\n      ) {\n        id\n        object {\n          id\n          name\n          type\n        }\n        grade\n        createdAt\n        updatedAt\n      }\n      skills: transactions(\n        order_by: [{type: desc}, {amount: desc}],\n        distinct_on: [type],\n        where: {\n          userId: {_eq: $userId}, \n          type: {_in: ["skill_js", "skill_go", "skill_html", "skill_prog", "skill_front-end", "skill_back-end"]}\n        }\n      ) {\n        type\n        amount\n      }\n    }\n    event_user(where: { userId: { _eq: $userId }, eventId: {_eq: $eventId}}) {\n      level\n    }\n  }\n']);return g=function(){return e},e}function p(){return new i.f({uri:"https://learn.reboot01.com/api/graphql-engine/v1/graphql",cache:new o.h,headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token")||"")}})}p();let j=(0,d.Ps)(g()),f=e=>0===e?"0 MB":"".concat((e/1e6).toFixed(2)," MB"),b=e=>e.split("/").filter(Boolean).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" - "),N=e=>{let{skills:s}=e,t={skill_js:"#F7DF1E",skill_go:"#00ADD8",skill_html:"#E34F26",skill_prog:"#4B0082","skill_front-end":"#61DAFB","skill_back-end":"#3C873A"},n={skill_js:"JavaScript",skill_go:"Go",skill_html:"HTML",skill_prog:"Programming","skill_front-end":"Front-End","skill_back-end":"Back-End"},r=s.map(e=>({id:e.type,name:n[e.type]||e.type.replace("skill_","").replace("-"," ").toUpperCase(),value:parseFloat(e.amount),color:t[e.type]||"#CBD5E0"})).sort((e,s)=>s.value-e.value);return(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("div",{className:"h-[300px]",children:(0,l.jsx)(x.h,{width:"100%",height:"100%",children:(0,l.jsxs)(m.u,{children:[(0,l.jsx)(h.b,{data:r,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",innerRadius:"60%",outerRadius:"80%",paddingAngle:2,children:r.map((e,s)=>(0,l.jsx)(u.b,{fill:e.color,className:"transition-all duration-200 hover:opacity-80"},"cell-".concat(s)))}),(0,l.jsx)(v.u,{content:(0,l.jsx)(e=>{let{active:s,payload:t}=e;return s&&t&&t.length?(0,l.jsx)("div",{className:"bg-gray-800 text-white px-4 py-2 rounded-lg text-sm shadow-lg",children:(0,l.jsx)("p",{children:"".concat(t[0].payload.name,": ").concat(t[0].value.toFixed(1),"%")})}):null},{})})]})})}),(0,l.jsx)("div",{className:"mt-8 grid grid-cols-2 gap-x-8 gap-y-4",children:r.map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-2 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors duration-200",children:[(0,l.jsx)("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:e.color}}),(0,l.jsx)("span",{className:"text-sm font-medium text-gray-700",children:e.name})]},e.id))})]})};function w(){var e,s,t,n,i,o,d,x,m,h,u,v,g,w,y,k;let L=(0,a.useRouter)(),[_,M]=(0,r.useState)(!1),[C,I]=(0,r.useState)(!1),[A,S]=(0,r.useState)(!1),[B,D]=(0,r.useState)("passed"),W=(()=>{try{let e=window.localStorage.getItem("token");if(!e)return null;let s=JSON.parse(atob(e.split(".")[1]));return s.userId||s.sub||null}catch(e){return console.error("Error extracting user ID:",e),null}})(),[P,E]=(0,r.useState)(null);if((0,r.useEffect)(()=>{E(p())},[]),!P)return(0,l.jsx)("div",{children:"Loading..."});let{loading:F,error:R,data:q,refetch:z}=(0,c.aM)(j,{variables:{userId:W||0,eventId:20},context:{headers:{Authorization:"Bearer ".concat(window.localStorage.getItem("token"))}},fetchPolicy:"network-only",pollInterval:3e4,onError:e=>{console.error("GraphQL Error:",e),(e.message.includes("JWSInvalidSignature")||e.message.includes("Could not verify JWT")||e.message.includes("invalid token"))&&(window.localStorage.removeItem("token"),L.push("/auth"))},skip:!W});if((0,r.useEffect)(()=>{let e=window.localStorage.getItem("token");if(!e){L.push("/auth");return}try{let s=JSON.parse(atob(e.split(".")[1]));console.log("Token payload in useEffect:",s),1e3*s.exp<Date.now()&&(console.log("Token expired"),window.localStorage.removeItem("token"),L.push("/auth"))}catch(e){console.error("Token validation error:",e),window.localStorage.removeItem("token"),L.push("/auth")}W&&(console.log("Fetching data for user ID:",W),z())},[L,z,W]),F)return(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})});if(R)return console.error("GraphQL Error:",R),(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-red-500",children:["Error: ",R.message]})});console.log("GraphQL Response:",q),console.log("User ID:",W);let U=null==q?void 0:null===(e=q.user)||void 0===e?void 0:e[0];if(!U)return console.error("No user data found"),(0,l.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-red-500",children:"No user data found"})});let T=U.xp_transactions||[],$=_?T:T.slice(0,5),H=(null===(s=U.audits)||void 0===s?void 0:s.nodes)||[],V=H.filter(e=>"passed"===B?e.grade>=1:"failed"!==B||e.grade<1);return(V||[]).slice(0,A?void 0:4),console.log("Transactions:",T),console.log("Audits:",H),console.log("Skills:",U.skills),(0,l.jsxs)("main",{className:"min-h-screen bg-gray-50",children:[(0,l.jsxs)("div",{className:"bg-gradient-to-r from-indigo-700 to-purple-800 relative overflow-hidden",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:16px_16px]"}),(0,l.jsx)("div",{className:"absolute h-full w-full bg-gradient-to-b from-black/[0.07] to-black/[0.1]"}),(0,l.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 relative",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsxs)("div",{className:"relative group",children:[(0,l.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden ring-2 ring-white/10 transition-transform duration-300 transform group-hover:scale-105 bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center",children:(0,l.jsx)("span",{className:"text-2xl font-bold text-white",children:null===(n=U.login)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.toUpperCase()})}),(0,l.jsx)("div",{className:"absolute -bottom-1 -right-1",children:(0,l.jsx)("div",{className:"w-5 h-5 rounded-full bg-green-500 ring-2 ring-indigo-900 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("h1",{className:"text-2xl font-bold text-white mb-0.5 flex items-center",children:[U.firstName," ",U.lastName,(0,l.jsx)("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium bg-white/10 text-white/90",children:U.login})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,l.jsxs)("div",{className:"flex items-center text-indigo-100/80 text-sm",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 002 2z"})}),(0,l.jsx)("span",{children:U.email})]}),(0,l.jsxs)("div",{className:"flex items-center text-indigo-100/80 text-sm",children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("span",{children:"Bahrain"})]})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-2",children:[(0,l.jsxs)("button",{className:"px-3 py-1.5 bg-white/10 hover:bg-white/20 text-white text-sm rounded-lg transition-colors duration-200 flex items-center",onClick:()=>window.open("https://learn.reboot01.com/intra","_blank"),children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),"View Intra"]}),(0,l.jsxs)("button",{className:"px-3 py-1.5 bg-red-500/20 hover:bg-red-500/30 text-red-100 text-sm rounded-lg transition-colors duration-200 flex items-center",onClick:()=>{window.localStorage.removeItem("token"),L.push("/auth")},children:[(0,l.jsx)("svg",{className:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Sign Out"]})]})]})})]}),(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg bg-yellow-100 text-yellow-600 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Total XP"}),(0,l.jsxs)("div",{className:"flex items-baseline",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:null===(o=U.xp_transactions)||void 0===o?void 0:null===(i=o.reduce((e,s)=>e+(s.amount||0),0))||void 0===i?void 0:i.toLocaleString()}),(0,l.jsx)("span",{className:"ml-2 text-sm text-yellow-600",children:"XP"})]})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0h2a2 2 0 002 2v-4a2 2 0 00-2-2h-2zm0 0h2a2 2 0 002 2v4a2 2 0 00-2 2h-2a2 2 0 00-2-2v-4z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Audit Ratio"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(U.auditRatio||0).toFixed(1)}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"Done/Received"})]})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg bg-green-100 text-green-600 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Completed"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(m=U.audits)||void 0===m?void 0:null===(x=m.nodes)||void 0===x?void 0:null===(d=x.filter(e=>e.grade>=1))||void 0===d?void 0:d.length)||0}),(0,l.jsx)("span",{className:"ml-2 text-sm text-green-600",children:"Completed"})]})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-12 h-12 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})}),(0,l.jsxs)("div",{className:"ml-4",children:[(0,l.jsx)("h2",{className:"text-sm font-medium text-gray-500",children:"Projects Completed"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(u=U.xp_transactions)||void 0===u?void 0:null===(h=u.filter(e=>{var s,t;return(null===(t=e.object)||void 0===t?void 0:null===(s=t.type)||void 0===s?void 0:s.toLowerCase())==="project"}))||void 0===h?void 0:h.length)||0}),(0,l.jsxs)("span",{className:"ml-2 text-sm text-purple-600",children:[null===(w=U.xp_transactions)||void 0===w?void 0:null===(g=w.filter(e=>{var s,t;return(null===(t=e.object)||void 0===t?void 0:null===(s=t.type)||void 0===s?void 0:s.toLowerCase())==="project"}))||void 0===g?void 0:null===(v=g.reduce((e,s)=>e+s.amount,0))||void 0===v?void 0:v.toLocaleString()," XP"]})]})]})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:(0,l.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,l.jsx)("h3",{className:"text-gray-500 mb-1",children:"Current rank"}),(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-8",children:"Apprentice developer"}),(0,l.jsxs)("div",{className:"relative w-48 h-48",children:[(0,l.jsx)("div",{className:"absolute inset-0",children:[...Array(40)].map((e,s)=>{var t,n;let r=360*s/40;return(0,l.jsx)("div",{className:"absolute w-2 h-2 rounded-full ".concat(s<((null==q?void 0:null===(n=q.event_user)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.level)||0)%1*40?"bg-indigo-600":"bg-gray-200"),style:{left:"".concat(96+90*Math.cos(Math.PI/180*(r-90)),"px"),top:"".concat(96+90*Math.sin(Math.PI/180*(r-90)),"px"),transform:"translate(-50%, -50%)"}},s)})}),(0,l.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,l.jsxs)("div",{className:"bg-white rounded-full w-32 h-32 shadow-lg flex flex-col items-center justify-center",children:[(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"Level"}),(0,l.jsx)("span",{className:"text-4xl font-bold text-gray-900",children:Math.floor((null==q?void 0:null===(k=q.event_user)||void 0===k?void 0:null===(y=k[0])||void 0===y?void 0:y.level)||0)})]})})]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-8",children:(0,l.jsxs)("div",{className:"flex flex-col",children:[(0,l.jsx)("h3",{className:"text-gray-500 mb-1",children:"Audit Performance"}),(0,l.jsxs)("div",{className:"flex items-baseline mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:(U.auditRatio||0).toFixed(1)}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:"ratio"})]}),(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Done"}),(0,l.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:f(U.totalUp||0)})]}),(0,l.jsxs)("div",{className:"h-3 relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-blue-100 rounded-full"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-blue-600 rounded-full",style:{width:"".concat(Math.min(100,(U.totalUp||0)/(U.totalDown||1)*100),"%")}})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,l.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Received"}),(0,l.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:f(U.totalDown||0)})]}),(0,l.jsxs)("div",{className:"h-3 relative",children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-green-100 rounded-full"}),(0,l.jsx)("div",{className:"absolute inset-0 bg-green-600 rounded-full",style:{width:"100%"}})]})]})]}),(0,l.jsxs)("div",{className:"flex space-x-4 mt-6",children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-blue-600 rounded-full mr-2"}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"Done"})]}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"w-3 h-3 bg-green-600 rounded-full mr-2"}),(0,l.jsx)("span",{className:"text-sm text-gray-500",children:"Received"})]})]})]})})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,l.jsxs)("div",{className:"space-y-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900 mb-6",children:"Skills Overview"}),(0,l.jsx)(N,{skills:U.skills||[]})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Recent Projects"}),(0,l.jsx)("button",{onClick:()=>I(!C),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:C?"Show Less":"View All"})]}),(0,l.jsx)("div",{className:"space-y-4",children:(C?U.xp_transactions.filter(e=>{var s,t;return(null===(t=e.object)||void 0===t?void 0:null===(s=t.type)||void 0===s?void 0:s.toLowerCase())==="project"}):U.xp_transactions.filter(e=>{var s,t;return(null===(t=e.object)||void 0===t?void 0:null===(s=t.type)||void 0===s?void 0:s.toLowerCase())==="project"}).slice(0,4)).map(e=>{var s;let t=new Date(e.createdAt),n=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(t);return(0,l.jsxs)("div",{className:"group relative flex items-center p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-200",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-purple-100 text-purple-600 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})}),(0,l.jsxs)("div",{className:"ml-4 flex-1 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:(null===(s=e.object)||void 0===s?void 0:s.name)||e.path.split("/").pop()}),(0,l.jsx)("span",{className:"ml-2 text-sm text-gray-500",children:n})]}),(0,l.jsxs)("div",{className:"flex items-center mt-1",children:[(0,l.jsx)("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:Math.abs(e.amount)>=1e3?"".concat((Math.abs(e.amount)/1e3).toFixed(1),"k XP"):"".concat(Math.abs(e.amount)," XP")}),e.path&&(0,l.jsx)("span",{className:"ml-2 text-xs text-gray-500 truncate",children:e.path.replace("/bahrain/bh-module","").split("/").filter(Boolean).slice(0,-1).join("/")})]})]}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)("button",{className:"p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-200 transition-all duration-200",onClick:()=>window.open("https://learn.reboot01.com/intra/bahrain/bh-module".concat(e.path.replace("/bahrain/bh-module",""),"?event=20"),"_blank"),title:"View Project",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})})]},"".concat(e.id,"-").concat(e.createdAt,"-").concat(e.amount))})})]})})]}),(0,l.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Recent Audits"}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-lg p-1",children:[(0,l.jsx)("button",{onClick:()=>D("passed"),className:"px-3 py-1 text-sm rounded-full transition-colors ".concat("passed"===B?"bg-green-500 text-white":"text-gray-600 hover:bg-gray-100"),children:"Passed"}),(0,l.jsx)("button",{onClick:()=>D("failed"),className:"px-3 py-1 text-sm rounded-full transition-colors ".concat("failed"===B?"bg-red-500 text-white":"text-gray-600 hover:bg-gray-100"),children:"Failed"})]}),(0,l.jsx)("button",{onClick:()=>S(!A),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:A?"Show Less":"View All"})]})]}),(0,l.jsx)("div",{className:"space-y-3",children:(A?V:V.slice(0,4)).map(e=>{var s,t,n,r;let a=new Date(e.createdAt),i=new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"numeric"}).format(a);return(0,l.jsxs)("div",{className:"group flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-all duration-200",children:[(0,l.jsxs)("div",{className:"flex items-center min-w-0",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg ".concat(e.grade>=1?"bg-green-100 text-green-600":"bg-red-100 text-red-600"," flex items-center justify-center flex-shrink-0"),children:e.grade>=1?(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}):(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,l.jsxs)("div",{className:"ml-3 min-w-0",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:"Audited"}),(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:(null===(t=e.group)||void 0===t?void 0:null===(s=t.object)||void 0===s?void 0:s.name)||"Unknown Project"})]}),(0,l.jsxs)("div",{className:"flex items-center mt-1 space-x-2",children:[(0,l.jsx)("span",{className:"text-xs text-gray-500",children:i}),(0,l.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"•"}),(0,l.jsxs)("span",{className:"text-xs text-gray-500",children:["by ",(null===(n=e.group)||void 0===n?void 0:n.captainLogin)||"Unknown User"]})]})]})]}),(0,l.jsx)("div",{className:"ml-4",children:(0,l.jsx)("button",{onClick:()=>window.open("https://learn.reboot01.com/intra/bahrain/bh-module".concat(e.path.replace("/bahrain/bh-module",""),"?event=20"),"_blank"),className:"ml-4 p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-200 transition-all duration-200",title:"View Audit",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})})]},"".concat(e.id,"-").concat(e.createdAt,"-").concat(null===(r=e.group)||void 0===r?void 0:r.id))})})]})}),(0,l.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:(0,l.jsxs)("div",{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"Recent Activity"}),(0,l.jsx)("button",{onClick:()=>M(!_),className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:_?"Show Less":"View All"})]}),(0,l.jsx)("div",{className:"space-y-4",children:$.map(e=>{var s;return(0,l.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:(0,l.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"flex items-center justify-between",children:[(0,l.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate group-hover:text-blue-600 transition-colors",children:b(e.path)}),(0,l.jsx)("span",{className:"ml-2 flex-shrink-0 text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]}),(0,l.jsxs)("div",{className:"flex items-center mt-1",children:[(0,l.jsxs)("span",{className:"text-xs font-medium text-green-600 bg-green-100 px-2 py-0.5 rounded-full",children:["+",null===(s=e.amount)||void 0===s?void 0:s.toLocaleString()]}),e.path&&(0,l.jsx)("span",{className:"ml-2 text-xs text-gray-500 truncate",children:e.path.replace("/bahrain/bh-module","").split("/").filter(Boolean).slice(0,-1).join("/")})]})]})]}),(0,l.jsx)("button",{onClick:()=>window.open("https://learn.reboot01.com".concat(e.path),"_blank"),className:"ml-4 p-1 text-gray-400 hover:text-gray-600 rounded-full hover:bg-gray-200 transition-all duration-200",title:"View Transaction",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]},e.path)})})]})})]})]})]})]})}}},function(e){e.O(0,[846,527,971,69,744],function(){return e(e.s=52553)}),_N_E=e.O()}]);